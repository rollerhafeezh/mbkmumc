!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).timeago={})}(this,function(e){"use strict";var n=["second","minute","hour","day","week","month","year"];var r=["秒","分钟","小时","天","周","个月","年"];function t(e,t){a[e]=t}function o(e){return a[e]||a.en_US}var a={},i=[60,60,24,7,365/7/12,12];function u(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function c(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),o=0;e>=i[o]&&o<i.length;o++)e/=i[o];return(0===(o*=2)?9:1)<(e=Math.floor(e))&&(o+=1),t(e,o,r)[n].replace("%s",e.toString())}function f(e,t){return(+(t?u(t):new Date)-+u(e))/1e3}var s="timeago-id";function d(e){return parseInt(e.getAttribute(s))}var l={},p=function(e){clearTimeout(e),delete l[e]};function h(e,t,n,r){p(d(e));var o=r.relativeDate,a=r.minInterval,o=f(t,o);e.innerText=c(o,n);a=setTimeout(function(){h(e,t,n,r)},Math.min(1e3*Math.max(function(e){for(var t=1,n=0,r=Math.abs(e);e>=i[n]&&n<i.length;n++)e/=i[n],t*=i[n];return r=(r%=t)?t-r:t,Math.ceil(r)}(o),a||1),2147483647));l[a]=0,e.setAttribute(s,a)}t("en_US",function(e,t){return 0===t?["just now","right now"]:(t=n[Math.floor(t/2)],1<e&&(t+="s"),[e+" "+t+" ago","in "+e+" "+t])}),t("zh_CN",function(e,t){return 0===t?["刚刚","片刻后"]:[e+" "+(t=r[~~(t/2)])+"前",e+" "+t+"后"]}),e.cancel=function(e){e?p(d(e)):Object.keys(l).forEach(p)},e.format=function(e,t,n){return c(f(e,n&&n.relativeDate),o(t))},e.register=t,e.render=function(e,t,n){return(e=NodeList.prototype.isPrototypeOf(e)?e:[e]).forEach(function(e){h(e,e.getAttribute("datetime"),o(t),n||{})}),e},Object.defineProperty(e,"__esModule",{value:!0})});
